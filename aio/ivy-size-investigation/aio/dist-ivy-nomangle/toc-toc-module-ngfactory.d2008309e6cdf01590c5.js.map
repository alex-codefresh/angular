{"version":3,"sources":["webpack:///./node_modules/rxjs/_esm5/internal/util/Immediate.js.pre-build-optimizer.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js.pre-build-optimizer.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js.pre-build-optimizer.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/asap.js.pre-build-optimizer.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js.pre-build-optimizer.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/subscribeOn.js.pre-build-optimizer.js","webpack:///./src/app/custom-elements/toc/toc.component.ts.pre-build-optimizer.js","webpack:///./src/app/custom-elements/toc/toc.component.html","webpack:///./src/app/custom-elements/toc/toc.component.ts","webpack:///./src/app/custom-elements/toc/toc.module.ts","webpack:///./src/app/custom-elements/toc/toc.module.ts.pre-build-optimizer.js","webpack:///./src/app/custom-elements/toc/toc.module.ngfactory.ts"],"names":["nextHandle","tasksByHandle","AsapAction_AsapAction","_super","AsapAction","scheduler","work","_this","call","this","tslib_es6","prototype","requestAsyncId","id","delay","actions","push","scheduled","cb","flush","bind","handle","Promise","resolve","then","runIfPresent","recycleAsyncId","length","undefined","AsapScheduler_AsapScheduler","AsapScheduler","apply","arguments","action","active","error","index","count","shift","execute","state","unsubscribe","__webpack_require__","d","__webpack_exports__","asap","SubscribeOnObservable_SubscribeOnObservable","SubscribeOnObservable","source","delayTime","Object","isNumeric","schedule","create","dispatch","arg","add","subscribe","subscriber","_subscribe","Observable","subscribeOn_SubscribeOnOperator","SubscribeOnOperator","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","TocComponent_div_0_div_1_Template","rf","ctx","core","_c9","_c10","_c11","TocComponent_div_0_button_2_Template","_r131","$event","toggle","ctx_r127","isCollapsed","_c12","_c13","_c14","_c15","_c16","TocComponent_div_0_ng_container_4_li_1_Template","ctx_r136","toc_r132","$implicit","i_r133","ctx_r134","level","type","primaryMax","activeIndex","title","href","content","TocComponent_div_0_ng_container_4_Template","ctx_r128","_c17","TocComponent_div_0_button_5_Template","_r138","ctx_r129","_c18","TocComponent_div_0_Template","ctx_r125","tocList","toc_component_TocComponent","TocComponent","scrollService","elementRef","tocService","isEmbedded","onDestroy","Subject","nativeElement","className","indexOf","ngOnInit","pipe","takeUntil","fn","itemCount","item","reduce","result","ngAfterViewInit","combineLatest","activeItemIndex","lift","items","changes","startWith","_a","e","toArray","p","offsetParent","eRect","getBoundingClientRect","pRect","top","bottom","scrollTop","clientHeight","ngOnDestroy","next","canScroll","toTop","scrollToTop","ngComponentDef","selectors","factory","t","scroll_service","toc_service","viewQuery","_t","consts","vars","template","directives","common","icon_es5","encapsulation","toc_module_TocModule","TocModule","customElementComponent","ngModuleDef","ngInjectorDef","imports","TocModuleNgFactory"],"mappings":"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","file":"toc-toc-module-ngfactory.d2008309e6cdf01590c5.js","sourcesContent":["/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar nextHandle = 1;\nvar tasksByHandle = {};\nfunction runIfPresent(handle) {\n    var cb = tasksByHandle[handle];\n    if (cb) {\n        cb();\n    }\n}\nexport var Immediate = {\n    setImmediate: function (cb) {\n        var handle = nextHandle++;\n        tasksByHandle[handle] = cb;\n        Promise.resolve().then(function () { return runIfPresent(handle); });\n        return handle;\n    },\n    clearImmediate: function (handle) {\n        delete tasksByHandle[handle];\n    },\n};\n//# sourceMappingURL=Immediate.js.map\n","/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nvar AsapAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction));\nexport { AsapAction };\n//# sourceMappingURL=AsapAction.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AsapScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler));\nexport { AsapScheduler };\n//# sourceMappingURL=AsapScheduler.js.map\n","/** PURE_IMPORTS_START _AsapAction,_AsapScheduler PURE_IMPORTS_END */\nimport { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\nexport var asap = /*@__PURE__*/ new AsapScheduler(AsapAction);\n//# sourceMappingURL=asap.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_scheduler_asap,_util_isNumeric PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { asap } from '../scheduler/asap';\nimport { isNumeric } from '../util/isNumeric';\nvar SubscribeOnObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscribeOnObservable, _super);\n    function SubscribeOnObservable(source, delayTime, scheduler) {\n        if (delayTime === void 0) {\n            delayTime = 0;\n        }\n        if (scheduler === void 0) {\n            scheduler = asap;\n        }\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.delayTime = delayTime;\n        _this.scheduler = scheduler;\n        if (!isNumeric(delayTime) || delayTime < 0) {\n            _this.delayTime = 0;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            _this.scheduler = asap;\n        }\n        return _this;\n    }\n    SubscribeOnObservable.create = function (source, delay, scheduler) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (scheduler === void 0) {\n            scheduler = asap;\n        }\n        return new SubscribeOnObservable(source, delay, scheduler);\n    };\n    SubscribeOnObservable.dispatch = function (arg) {\n        var source = arg.source, subscriber = arg.subscriber;\n        return this.add(source.subscribe(subscriber));\n    };\n    SubscribeOnObservable.prototype._subscribe = function (subscriber) {\n        var delay = this.delayTime;\n        var source = this.source;\n        var scheduler = this.scheduler;\n        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {\n            source: source, subscriber: subscriber\n        });\n    };\n    return SubscribeOnObservable;\n}(Observable));\nexport { SubscribeOnObservable };\n//# sourceMappingURL=SubscribeOnObservable.js.map\n","/** PURE_IMPORTS_START _observable_SubscribeOnObservable PURE_IMPORTS_END */\nimport { SubscribeOnObservable } from '../observable/SubscribeOnObservable';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function subscribeOnOperatorFunction(source) {\n        return source.lift(new SubscribeOnOperator(scheduler, delay));\n    };\n}\nvar SubscribeOnOperator = /*@__PURE__*/ (function () {\n    function SubscribeOnOperator(scheduler, delay) {\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    SubscribeOnOperator.prototype.call = function (subscriber, source) {\n        return new SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);\n    };\n    return SubscribeOnOperator;\n}());\n//# sourceMappingURL=subscribeOn.js.map\n","import { Component, ElementRef, QueryList, ViewChildren } from '@angular/core';\nimport { asapScheduler, combineLatest, Subject } from 'rxjs';\nimport { startWith, subscribeOn, takeUntil } from 'rxjs/operators';\nimport { ScrollService } from 'app/shared/scroll.service';\nimport { TocService } from 'app/shared/toc.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/shared/scroll.service\";\nimport * as i2 from \"app/shared/toc.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nvar _c0 = [\"tocItem\"];\nvar _c1 = [\"class\", \"toc-inner no-print\", 3, \"collapsed\", 4, \"ngIf\"];\nvar _c2 = [1, \"toc-inner\", \"no-print\"];\nvar _c3 = [\"class\", \"toc-heading embedded\", 4, \"ngIf\"];\nvar _c4 = [\"type\", \"button\", \"class\", \"toc-heading embedded secondary\", \"title\", \"Expand/collapse contents\", \"aria-label\", \"Expand/collapse contents\", 3, \"aria-pressed\", \"click\", 4, \"ngIf\"];\nvar _c5 = [1, \"toc-list\"];\nvar _c6 = [4, \"ngFor\", \"ngForOf\"];\nvar _c7 = [\"type\", \"button\", \"class\", \"toc-more-items embedded material-icons\", \"title\", \"Expand/collapse contents\", \"aria-label\", \"Expand/collapse contents\", 3, \"collapsed\", \"aria-pressed\", \"click\", 4, \"ngIf\"];\nvar _c8 = [1, \"toc-heading\", \"embedded\"];\nfunction TocComponent_div_0_div_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"div\", _c8);\n    i0.ɵtext(1, \" Contents \");\n    i0.ɵelementEnd();\n} }\nvar _c9 = [\"type\", \"button\", \"title\", \"Expand/collapse contents\", \"aria-label\", \"Expand/collapse contents\", 1, \"toc-heading\", \"embedded\", \"secondary\", 3, \"aria-pressed\", \"click\"];\nvar _c10 = [\"svgIcon\", \"keyboard_arrow_right\", 1, \"rotating-icon\"];\nvar _c11 = [\"collapsed\"];\nfunction TocComponent_div_0_button_2_Template(rf, ctx) { if (rf & 1) {\n    var _r131 = i0.ɵgetCurrentView();\n    i0.ɵelementStart(0, \"button\", _c9);\n    i0.ɵlistener(\"click\", function TocComponent_div_0_button_2_Template_button_click_0_listener($event) { i0.ɵrestoreView(_r131); var ctx_r130 = i0.ɵnextContext(2); return ctx_r130.toggle(false); });\n    i0.ɵtext(1, \" Contents \");\n    i0.ɵelementStart(2, \"mat-icon\", _c10);\n    i0.ɵelementStyling(_c11);\n    i0.ɵelementEnd();\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var ctx_r127 = i0.ɵnextContext(2);\n    i0.ɵselect(0);\n    i0.ɵelementAttribute(0, \"aria-pressed\", i0.ɵbind(!ctx_r127.isCollapsed));\n    i0.ɵelementClassProp(2, 0, ctx_r127.isCollapsed);\n    i0.ɵelementStylingApply(2);\n} }\nvar _c12 = [3, \"title\", \"class\", \"secondary\", \"active\", 4, \"ngIf\"];\nvar _c13 = [3, \"title\"];\nvar _c14 = [\"tocItem\", \"\"];\nvar _c15 = [3, \"href\", \"innerHTML\"];\nvar _c16 = [\"secondary\", \"active\"];\nfunction TocComponent_div_0_ng_container_4_li_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"li\", _c13, _c14);\n    i0.ɵelementStyling(_c16);\n    i0.ɵelement(2, \"a\", _c15);\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var ctx_r136 = i0.ɵnextContext();\n    var toc_r132 = ctx_r136.$implicit;\n    var i_r133 = ctx_r136.index;\n    var ctx_r134 = i0.ɵnextContext(2);\n    i0.ɵelementStylingMap(0, i0.ɵinterpolation1(\"\", toc_r132.level, \"\"));\n    i0.ɵelementClassProp(0, 0, ((ctx_r134.type === \"EmbeddedExpandable\") && (i_r133 >= ctx_r134.primaryMax)));\n    i0.ɵelementClassProp(0, 1, (i_r133 === ctx_r134.activeIndex));\n    i0.ɵelementStylingApply(0);\n    i0.ɵselect(0);\n    i0.ɵelementProperty(0, \"title\", i0.ɵinterpolation1(\"\", toc_r132.title, \"\"));\n    i0.ɵselect(2);\n    i0.ɵelementProperty(2, \"href\", i0.ɵbind(toc_r132.href), i0.ɵsanitizeUrl);\n    i0.ɵelementProperty(2, \"innerHTML\", i0.ɵbind(toc_r132.content), i0.ɵsanitizeHtml);\n} }\nfunction TocComponent_div_0_ng_container_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementContainerStart(0);\n    i0.ɵtemplate(1, TocComponent_div_0_ng_container_4_li_1_Template, 3, 4, \"li\", _c12);\n    i0.ɵelementContainerEnd();\n} if (rf & 2) {\n    var toc_r132 = ctx.$implicit;\n    var ctx_r128 = i0.ɵnextContext(2);\n    i0.ɵselect(1);\n    i0.ɵelementProperty(1, \"ngIf\", i0.ɵbind(((ctx_r128.type === \"Floating\") || (toc_r132.level !== \"h1\"))));\n} }\nvar _c17 = [\"type\", \"button\", \"title\", \"Expand/collapse contents\", \"aria-label\", \"Expand/collapse contents\", 1, \"toc-more-items\", \"embedded\", \"material-icons\", 3, \"aria-pressed\", \"click\"];\nfunction TocComponent_div_0_button_5_Template(rf, ctx) { if (rf & 1) {\n    var _r138 = i0.ɵgetCurrentView();\n    i0.ɵelementStart(0, \"button\", _c17);\n    i0.ɵelementStyling(_c11);\n    i0.ɵlistener(\"click\", function TocComponent_div_0_button_5_Template_button_click_0_listener($event) { i0.ɵrestoreView(_r138); var ctx_r137 = i0.ɵnextContext(2); return ctx_r137.toggle(); });\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var ctx_r129 = i0.ɵnextContext(2);\n    i0.ɵelementClassProp(0, 0, ctx_r129.isCollapsed);\n    i0.ɵelementStylingApply(0);\n    i0.ɵselect(0);\n    i0.ɵelementAttribute(0, \"aria-pressed\", i0.ɵbind(!ctx_r129.isCollapsed));\n} }\nvar _c18 = [\"embedded\"];\nfunction TocComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"div\", _c2);\n    i0.ɵelementStyling(_c11);\n    i0.ɵtemplate(1, TocComponent_div_0_div_1_Template, 2, 0, \"div\", _c3);\n    i0.ɵtemplate(2, TocComponent_div_0_button_2_Template, 3, 1, \"button\", _c4);\n    i0.ɵelementStart(3, \"ul\", _c5);\n    i0.ɵelementStyling(_c18);\n    i0.ɵtemplate(4, TocComponent_div_0_ng_container_4_Template, 2, 1, \"ng-container\", _c6);\n    i0.ɵelementEnd();\n    i0.ɵtemplate(5, TocComponent_div_0_button_5_Template, 1, 1, \"button\", _c7);\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var ctx_r125 = i0.ɵnextContext();\n    i0.ɵelementClassProp(0, 0, ctx_r125.isCollapsed);\n    i0.ɵelementStylingApply(0);\n    i0.ɵselect(1);\n    i0.ɵelementProperty(1, \"ngIf\", i0.ɵbind((ctx_r125.type === \"EmbeddedSimple\")));\n    i0.ɵselect(2);\n    i0.ɵelementProperty(2, \"ngIf\", i0.ɵbind((ctx_r125.type === \"EmbeddedExpandable\")));\n    i0.ɵelementClassProp(3, 0, (ctx_r125.type !== \"Floating\"));\n    i0.ɵelementStylingApply(3);\n    i0.ɵselect(4);\n    i0.ɵelementProperty(4, \"ngForOf\", i0.ɵbind(ctx_r125.tocList));\n    i0.ɵselect(5);\n    i0.ɵelementProperty(5, \"ngIf\", i0.ɵbind((ctx_r125.type === \"EmbeddedExpandable\")));\n} }\nvar TocComponent = /** @class */ (function () {\n    function TocComponent(scrollService, elementRef, tocService) {\n        this.scrollService = scrollService;\n        this.tocService = tocService;\n        this.activeIndex = null;\n        this.type = 'None';\n        this.isCollapsed = true;\n        this.isEmbedded = false;\n        this.onDestroy = new Subject();\n        this.primaryMax = 4;\n        this.isEmbedded = elementRef.nativeElement.className.indexOf('embedded') !== -1;\n    }\n    TocComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.tocService.tocList\n            .pipe(takeUntil(this.onDestroy))\n            .subscribe(function (tocList) {\n            _this.tocList = tocList;\n            var itemCount = count(_this.tocList, function (item) { return item.level !== 'h1'; });\n            _this.type = (itemCount > 0) ?\n                _this.isEmbedded ?\n                    (itemCount > _this.primaryMax) ?\n                        'EmbeddedExpandable' :\n                        'EmbeddedSimple' :\n                    'Floating' :\n                'None';\n        });\n    };\n    TocComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        if (!this.isEmbedded) {\n            // We use the `asap` scheduler because updates to `activeItemIndex` are triggered by DOM changes,\n            // which, in turn, are caused by the rendering that happened due to a ChangeDetection.\n            // Without asap, we would be updating the model while still in a ChangeDetection handler, which is disallowed by Angular.\n            combineLatest(this.tocService.activeItemIndex.pipe(subscribeOn(asapScheduler)), this.items.changes.pipe(startWith(this.items)))\n                .pipe(takeUntil(this.onDestroy))\n                .subscribe(function (_a) {\n                var index = _a[0], items = _a[1];\n                _this.activeIndex = index;\n                if (index === null || index >= items.length) {\n                    return;\n                }\n                var e = items.toArray()[index].nativeElement;\n                var p = e.offsetParent;\n                var eRect = e.getBoundingClientRect();\n                var pRect = p.getBoundingClientRect();\n                var isInViewport = (eRect.top >= pRect.top) && (eRect.bottom <= pRect.bottom);\n                if (!isInViewport) {\n                    p.scrollTop += (eRect.top - pRect.top) - (p.clientHeight / 2);\n                }\n            });\n        }\n    };\n    TocComponent.prototype.ngOnDestroy = function () {\n        this.onDestroy.next();\n    };\n    TocComponent.prototype.toggle = function (canScroll) {\n        if (canScroll === void 0) { canScroll = true; }\n        this.isCollapsed = !this.isCollapsed;\n        if (canScroll && this.isCollapsed) {\n            this.toTop();\n        }\n    };\n    TocComponent.prototype.toTop = function () {\n        this.scrollService.scrollToTop();\n    };\n    TocComponent.ngComponentDef = i0.ɵdefineComponent({ type: TocComponent, selectors: [[\"aio-toc\"]], factory: function TocComponent_Factory(t) { return new (t || TocComponent)(i0.ɵdirectiveInject(i1.ScrollService), i0.ɵdirectiveInject(i0.ElementRef), i0.ɵdirectiveInject(i2.TocService)); }, viewQuery: function TocComponent_Query(rf, ctx) { if (rf & 1) {\n            i0.ɵviewQuery(_c0, true, null);\n        } if (rf & 2) {\n            var _t;\n            (i0.ɵqueryRefresh((_t = i0.ɵloadViewQuery())) && (ctx.items = _t));\n        } }, consts: 1, vars: 1, template: function TocComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵtemplate(0, TocComponent_div_0_Template, 6, 4, \"div\", _c1);\n        } if (rf & 2) {\n            i0.ɵselect(0);\n            i0.ɵelementProperty(0, \"ngIf\", i0.ɵbind((ctx.type !== \"None\")));\n        } }, directives: [i3.NgIf, i3.NgForOf, i4.MatIcon], encapsulation: 2 });\n    return TocComponent;\n}());\nexport { TocComponent };\n/*@__PURE__*/ i0.ɵsetClassMetadata(TocComponent, [{\n        type: Component,\n        args: [{\n                selector: 'aio-toc',\n                templateUrl: 'toc.component.html',\n                styles: []\n            }]\n    }], function () { return [{ type: i1.ScrollService }, { type: i0.ElementRef }, { type: i2.TocService }]; }, { items: [{\n            type: ViewChildren,\n            args: ['tocItem']\n        }] });\nfunction count(array, fn) {\n    return array.reduce(function (result, item) { return fn(item) ? result + 1 : result; }, 0);\n}\n","<div *ngIf=\"type !== 'None'\" class=\"toc-inner no-print\" [class.collapsed]=\"isCollapsed\">\n\n  <div *ngIf=\"type === 'EmbeddedSimple'\" class=\"toc-heading embedded\">\n    Contents\n  </div>\n\n  <button *ngIf=\"type === 'EmbeddedExpandable'\" type=\"button\" (click)=\"toggle(false)\"\n    class=\"toc-heading embedded secondary\"\n    title=\"Expand/collapse contents\"\n    aria-label=\"Expand/collapse contents\"\n    [attr.aria-pressed]=\"!isCollapsed\">\n    Contents\n    <mat-icon class=\"rotating-icon\" svgIcon=\"keyboard_arrow_right\" [class.collapsed]=\"isCollapsed\"></mat-icon>\n  </button>\n\n  <ul class=\"toc-list\" [class.embedded]=\"type !== 'Floating'\">\n    <ng-container *ngFor=\"let toc of tocList; let i = index\">\n      <li #tocItem title=\"{{toc.title}}\" *ngIf=\"type === 'Floating' || toc.level !== 'h1'\"\n        class=\"{{toc.level}}\" [class.secondary]=\"type === 'EmbeddedExpandable' && i >= primaryMax\" [class.active]=\"i === activeIndex\">\n        <a [href]=\"toc.href\" [innerHTML]=\"toc.content\"></a>\n      </li>\n    </ng-container>\n  </ul>\n\n  <button *ngIf=\"type === 'EmbeddedExpandable'\" type=\"button\" (click)=\"toggle()\"\n    class=\"toc-more-items embedded material-icons\" [class.collapsed]=\"isCollapsed\"\n    title=\"Expand/collapse contents\"\n    aria-label=\"Expand/collapse contents\"\n    [attr.aria-pressed]=\"!isCollapsed\">\n  </button>\n</div>\n","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, QueryList, ViewChildren } from '@angular/core';\nimport { asapScheduler, combineLatest, Subject } from 'rxjs';\nimport { startWith, subscribeOn, takeUntil } from 'rxjs/operators';\n\nimport { ScrollService } from 'app/shared/scroll.service';\nimport { TocItem, TocService } from 'app/shared/toc.service';\n\ntype TocType = 'None' | 'Floating' | 'EmbeddedSimple' | 'EmbeddedExpandable';\n\n@Component({\n  selector: 'aio-toc',\n  templateUrl: 'toc.component.html',\n  styles: []\n})\nexport class TocComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  activeIndex: number | null = null;\n  type: TocType = 'None';\n  isCollapsed = true;\n  isEmbedded = false;\n  @ViewChildren('tocItem') private items: QueryList<ElementRef>;\n  private onDestroy = new Subject();\n  private primaryMax = 4;\n  tocList: TocItem[];\n\n  constructor(\n    private scrollService: ScrollService,\n    elementRef: ElementRef,\n    private tocService: TocService) {\n    this.isEmbedded = elementRef.nativeElement.className.indexOf('embedded') !== -1;\n  }\n\n  ngOnInit() {\n    this.tocService.tocList\n        .pipe(takeUntil(this.onDestroy))\n        .subscribe(tocList => {\n          this.tocList = tocList;\n          const itemCount = count(this.tocList, item => item.level !== 'h1');\n\n          this.type = (itemCount > 0) ?\n                        this.isEmbedded ?\n                          (itemCount > this.primaryMax) ?\n                            'EmbeddedExpandable' :\n                          'EmbeddedSimple' :\n                        'Floating' :\n                      'None';\n        });\n  }\n\n  ngAfterViewInit() {\n    if (!this.isEmbedded) {\n      // We use the `asap` scheduler because updates to `activeItemIndex` are triggered by DOM changes,\n      // which, in turn, are caused by the rendering that happened due to a ChangeDetection.\n      // Without asap, we would be updating the model while still in a ChangeDetection handler, which is disallowed by Angular.\n      combineLatest(this.tocService.activeItemIndex.pipe(subscribeOn(asapScheduler)), this.items.changes.pipe(startWith(this.items)))\n          .pipe(takeUntil(this.onDestroy))\n          .subscribe(([index, items]) => {\n            this.activeIndex = index;\n            if (index === null || index >= items.length) {\n              return;\n            }\n\n            const e = items.toArray()[index].nativeElement;\n            const p = e.offsetParent;\n\n            const eRect = e.getBoundingClientRect();\n            const pRect = p.getBoundingClientRect();\n\n            const isInViewport = (eRect.top >= pRect.top) && (eRect.bottom <= pRect.bottom);\n\n            if (!isInViewport) {\n              p.scrollTop += (eRect.top - pRect.top) - (p.clientHeight / 2);\n            }\n          });\n    }\n  }\n\n  ngOnDestroy() {\n    this.onDestroy.next();\n  }\n\n  toggle(canScroll = true) {\n    this.isCollapsed = !this.isCollapsed;\n    if (canScroll && this.isCollapsed) { this.toTop(); }\n  }\n\n  toTop() {\n    this.scrollService.scrollToTop();\n  }\n}\n\nfunction count<T>(array: T[], fn: (item: T) => boolean) {\n  return array.reduce((result, item) => fn(item) ? result + 1 : result, 0);\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { WithCustomElementComponent } from '../element-registry';\nimport { TocComponent } from './toc.component';\n\n@NgModule({\n  imports: [ CommonModule, MatIconModule ],\n  declarations: [ TocComponent ],\n  entryComponents: [ TocComponent ],\n})\nexport class TocModule implements WithCustomElementComponent {\n  customElementComponent: Type<any> = TocComponent;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { TocComponent } from './toc.component';\nimport * as i0 from \"@angular/core\";\nvar TocModule = /** @class */ (function () {\n    function TocModule() {\n        this.customElementComponent = TocComponent;\n    }\n    TocModule.ngModuleDef = i0.ɵdefineNgModule({ type: TocModule });\n    TocModule.ngInjectorDef = i0.defineInjector({ factory: function TocModule_Factory(t) { return new (t || TocModule)(); }, imports: [[CommonModule, MatIconModule]] });\n    return TocModule;\n}());\nexport { TocModule };\n/*@__PURE__*/ i0.ɵsetNgModuleScope(TocModule, { declarations: [TocComponent], imports: [CommonModule, MatIconModule] });\n/*@__PURE__*/ i0.ɵsetClassMetadata(TocModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule, MatIconModule],\n                declarations: [TocComponent],\n                entryComponents: [TocComponent],\n            }]\n    }], null, null);\n","import * as i0 from '@angular/core';\nimport {TocModule} from './toc.module';\nexport const TocModuleNgFactory = new i0.ɵNgModuleFactory(TocModule);\nexport const ɵNonEmptyModule = true;"],"sourceRoot":""}