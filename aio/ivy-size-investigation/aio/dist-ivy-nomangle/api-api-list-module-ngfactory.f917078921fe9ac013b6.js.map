{"version":3,"sources":["webpack:///./src/app/custom-elements/api/api.service.ts","webpack:///./src/app/custom-elements/api/api.service.ts.pre-build-optimizer.js","webpack:///./src/app/custom-elements/api/api-list.component.ts.pre-build-optimizer.js","webpack:///./src/app/custom-elements/api/api-list.component.html","webpack:///./src/app/custom-elements/api/api-list.component.ts","webpack:///./src/app/custom-elements/api/api-list.module.ts","webpack:///./src/app/custom-elements/api/api-list.module.ts.pre-build-optimizer.js","webpack:///./src/app/custom-elements/api/api-list.module.ngfactory.ts"],"names":["api_service_ApiService","ApiService","http","logger","this","apiBase","document_service","apiListJsonDefault","firstTime","onDestroy","Subject","sectionsSubject","ReplaySubject","_sections","pipe","Object","takeUntil","defineProperty","prototype","get","_this","fetchSections","subscribe","sections","log","tap","forEach","section","deprecated","items","every","item","stability","enumerable","configurable","ngOnDestroy","next","src","url","err","error","ngInjectableDef","core","token","factory","t","fesm5_http","logger_service","providedIn","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","_c9","_c10","_c11","_c12","_c13","ApiListComponent_div_9_h2_1_Template","rf","ctx","section_r75","$implicit","path","title","_c14","_c15","ApiListComponent_div_9_ul_2_ng_container_1_Template","item_r80","docType","ApiListComponent_div_9_ul_2_Template","ApiListComponent_div_9_Template","length","SearchCriteria","query","status","type","api_list_component_ApiListComponent","ApiListComponent","apiService","locationService","showStatusMenu","showTypeMenu","criteriaSubject","searchCriteria","types","value","statuses","ngOnInit","filteredSections","combineLatest","map","results","criteria","tslib_es6","filterSection","initializeSearchCriteria","setQuery","setSearchCriteria","toLowerCase","trim","setStatus","toggleStatusMenu","setType","toggleTypeMenu","_a","filter","securityRisk","name","indexOf","search","q","queryEl","nativeElement","find","x","setLocationSearch","setSearch","undefined","assign","ngComponentDef","selectors","location_service","viewQuery","_t","first","consts","vars","template","$event","option","target","directives","select_component","common","pipes","encapsulation","api_list_module_ApiListModule","ApiListModule","customElementComponent","ngModuleDef","ngInjectorDef","providers","imports","shared_module","__webpack_require__","d","__webpack_exports__","ApiListModuleNgFactory"],"mappings":"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","file":"api-api-list-module-ngfactory.f917078921fe9ac013b6.js","sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\nimport { Logger } from 'app/shared/logger.service';\nimport { DOC_CONTENT_URL_PREFIX } from 'app/documents/document.service';\n\nexport interface ApiItem {\n  name: string;\n  title: string;\n  path: string;\n  docType: string;\n  stability: string;\n  securityRisk: boolean;\n}\n\nexport interface ApiSection {\n  path: string;\n  name: string;\n  title: string;\n  deprecated: boolean;\n  items: ApiItem[]|null;\n}\n\n@Injectable()\nexport class ApiService implements OnDestroy {\n\n  private apiBase = DOC_CONTENT_URL_PREFIX + 'api/';\n  private apiListJsonDefault = 'api-list.json';\n  private firstTime = true;\n  private onDestroy = new Subject();\n  private sectionsSubject = new ReplaySubject<ApiSection[]>(1);\n  private _sections = this.sectionsSubject.pipe(takeUntil(this.onDestroy));\n\n  /**\n  * Return a cached observable of API sections from a JSON file.\n  * API sections is an array of Angular top modules and metadata about their API documents (items).\n   */\n  get sections() {\n\n    if (this.firstTime) {\n      this.firstTime = false;\n      this.fetchSections(); // TODO: get URL for fetchSections by configuration?\n\n      // makes sectionsSubject hot; subscribe ensures stays alive (always refCount > 0);\n      this._sections.subscribe(sections => this.logger.log('ApiService got API sections') );\n    }\n\n    return this._sections.pipe(tap(sections => {\n      sections.forEach(section => {\n        section.deprecated = !!section.items &&\n            section.items.every(item => item.stability === 'deprecated');\n      });\n    }));\n  }\n\n  constructor(private http: HttpClient, private logger: Logger) { }\n\n  ngOnDestroy() {\n    this.onDestroy.next();\n  }\n\n /**\n  * Fetch API sections from a JSON file.\n  * API sections is an array of Angular top modules and metadata about their API documents (items).\n  * Updates `sections` observable\n  *\n  * @param {string} [src] - Name of the api list JSON file\n  */\n  fetchSections(src?: string) {\n    // TODO: get URL by configuration?\n    const url = this.apiBase + (src || this.apiListJsonDefault);\n    this.http.get<ApiSection[]>(url)\n      .pipe(\n        takeUntil(this.onDestroy),\n        tap(() => this.logger.log(`Got API sections from ${url}`)),\n      )\n      .subscribe(\n        sections => this.sectionsSubject.next(sections),\n        (err: HttpErrorResponse) => {\n          // TODO: handle error\n          this.logger.error(err);\n          throw err; // rethrow for now.\n        }\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { Logger } from 'app/shared/logger.service';\nimport { DOC_CONTENT_URL_PREFIX } from 'app/documents/document.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"app/shared/logger.service\";\nvar ApiService = /** @class */ (function () {\n    function ApiService(http, logger) {\n        this.http = http;\n        this.logger = logger;\n        this.apiBase = DOC_CONTENT_URL_PREFIX + 'api/';\n        this.apiListJsonDefault = 'api-list.json';\n        this.firstTime = true;\n        this.onDestroy = new Subject();\n        this.sectionsSubject = new ReplaySubject(1);\n        this._sections = this.sectionsSubject.pipe(takeUntil(this.onDestroy));\n    }\n    Object.defineProperty(ApiService.prototype, \"sections\", {\n        /**\n        * Return a cached observable of API sections from a JSON file.\n        * API sections is an array of Angular top modules and metadata about their API documents (items).\n         */\n        get: function () {\n            var _this = this;\n            if (this.firstTime) {\n                this.firstTime = false;\n                this.fetchSections(); // TODO: get URL for fetchSections by configuration?\n                // makes sectionsSubject hot; subscribe ensures stays alive (always refCount > 0);\n                this._sections.subscribe(function (sections) { return _this.logger.log('ApiService got API sections'); });\n            }\n            return this._sections.pipe(tap(function (sections) {\n                sections.forEach(function (section) {\n                    section.deprecated = !!section.items &&\n                        section.items.every(function (item) { return item.stability === 'deprecated'; });\n                });\n            }));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ApiService.prototype.ngOnDestroy = function () {\n        this.onDestroy.next();\n    };\n    /**\n     * Fetch API sections from a JSON file.\n     * API sections is an array of Angular top modules and metadata about their API documents (items).\n     * Updates `sections` observable\n     *\n     * @param {string} [src] - Name of the api list JSON file\n     */\n    ApiService.prototype.fetchSections = function (src) {\n        var _this = this;\n        // TODO: get URL by configuration?\n        var url = this.apiBase + (src || this.apiListJsonDefault);\n        this.http.get(url)\n            .pipe(takeUntil(this.onDestroy), tap(function () { return _this.logger.log(\"Got API sections from \" + url); }))\n            .subscribe(function (sections) { return _this.sectionsSubject.next(sections); }, function (err) {\n            // TODO: handle error\n            _this.logger.error(err);\n            throw err; // rethrow for now.\n        });\n    };\n    ApiService.ngInjectableDef = i0.defineInjectable({ token: ApiService, factory: function ApiService_Factory(t) { return new (t || ApiService)(i0.inject(i1.HttpClient), i0.inject(i2.Logger)); }, providedIn: null });\n    return ApiService;\n}());\nexport { ApiService };\n/*@__PURE__*/ i0.ɵsetClassMetadata(ApiService, [{\n        type: Injectable\n    }], function () { return [{ type: i1.HttpClient }, { type: i2.Logger }]; }, null);\n","import * as tslib_1 from \"tslib\";\n/*\n* API List & Filter Component\n*\n* A page that displays a formatted list of the public Angular API entities.\n* Clicking on a list item triggers navigation to the corresponding API entity document.\n* Can add/remove API entity links based on filter settings.\n*/\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nimport { combineLatest, ReplaySubject } from 'rxjs';\nimport { LocationService } from 'app/shared/location.service';\nimport { ApiService } from './api.service';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nimport * as i2 from \"app/shared/location.service\";\nimport * as i3 from \"../../shared/select/select.component\";\nimport * as i4 from \"@angular/common\";\nvar _c0 = [\"filter\"];\nvar _c1 = [1, \"l-flex-wrap\", \"api-filter\"];\nvar _c2 = [\"label\", \"Type:\", 3, \"options\", \"selected\", \"showSymbol\", \"change\"];\nvar _c3 = [\"label\", \"Status:\", 3, \"options\", \"selected\", \"disabled\", \"change\"];\nvar _c4 = [1, \"form-search\"];\nvar _c5 = [\"placeholder\", \"Filter\", 3, \"input\"];\nvar _c6 = [\"filter\", \"\"];\nvar _c7 = [1, \"material-icons\"];\nvar _c8 = [1, \"api-list-container\", \"l-content-small\", \"docs-content\"];\nvar _c9 = [4, \"ngFor\", \"ngForOf\"];\nvar _c10 = [4, \"ngIf\"];\nvar _c11 = [\"class\", \"api-list\", 4, \"ngIf\"];\nvar _c12 = [3, \"href\"];\nvar _c13 = [\"deprecated-api-item\"];\nfunction ApiListComponent_div_9_h2_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"h2\");\n    i0.ɵelementStart(1, \"a\", _c12);\n    i0.ɵelementStyling(_c13);\n    i0.ɵtext(2);\n    i0.ɵelementEnd();\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var section_r75 = i0.ɵnextContext().$implicit;\n    i0.ɵelementClassProp(1, 0, section_r75.deprecated);\n    i0.ɵelementStylingApply(1);\n    i0.ɵselect(1);\n    i0.ɵelementProperty(1, \"href\", i0.ɵbind(section_r75.path), i0.ɵsanitizeUrl);\n    i0.ɵselect(2);\n    i0.ɵtextBinding(2, i0.ɵinterpolation1(\"\", section_r75.title, \"\"));\n} }\nvar _c14 = [1, \"api-list\"];\nvar _c15 = [1, \"api-item\"];\nfunction ApiListComponent_div_9_ul_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementContainerStart(0);\n    i0.ɵelementStart(1, \"li\", _c15);\n    i0.ɵelementStart(2, \"a\", _c12);\n    i0.ɵelementStyling(_c13);\n    i0.ɵelementStart(3, \"span\");\n    i0.ɵelementStyling();\n    i0.ɵelementEnd();\n    i0.ɵtext(4);\n    i0.ɵelementEnd();\n    i0.ɵelementEnd();\n    i0.ɵelementContainerEnd();\n} if (rf & 2) {\n    var item_r80 = ctx.$implicit;\n    i0.ɵelementClassProp(2, 0, (item_r80.stability === \"deprecated\"));\n    i0.ɵelementStylingApply(2);\n    i0.ɵselect(2);\n    i0.ɵelementProperty(2, \"href\", i0.ɵbind(item_r80.path), i0.ɵsanitizeUrl);\n    i0.ɵelementStylingMap(3, i0.ɵinterpolation1(\"symbol \", item_r80.docType, \"\"));\n    i0.ɵelementStylingApply(3);\n    i0.ɵselect(4);\n    i0.ɵtextBinding(4, i0.ɵinterpolation1(\" \", item_r80.title, \" \"));\n} }\nfunction ApiListComponent_div_9_ul_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"ul\", _c14);\n    i0.ɵtemplate(1, ApiListComponent_div_9_ul_2_ng_container_1_Template, 5, 3, \"ng-container\", _c9);\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var section_r75 = i0.ɵnextContext().$implicit;\n    i0.ɵselect(1);\n    i0.ɵelementProperty(1, \"ngForOf\", i0.ɵbind(section_r75.items));\n} }\nfunction ApiListComponent_div_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵelementStart(0, \"div\");\n    i0.ɵtemplate(1, ApiListComponent_div_9_h2_1_Template, 3, 2, \"h2\", _c10);\n    i0.ɵtemplate(2, ApiListComponent_div_9_ul_2_Template, 2, 1, \"ul\", _c11);\n    i0.ɵelementEnd();\n} if (rf & 2) {\n    var section_r75 = ctx.$implicit;\n    i0.ɵselect(1);\n    i0.ɵelementProperty(1, \"ngIf\", i0.ɵbind(section_r75.items));\n    i0.ɵselect(2);\n    i0.ɵelementProperty(2, \"ngIf\", i0.ɵbind(((section_r75.items == null) ? null : section_r75.items.length)));\n} }\nvar SearchCriteria = /** @class */ (function () {\n    function SearchCriteria() {\n        this.query = '';\n        this.status = 'all';\n        this.type = 'all';\n    }\n    return SearchCriteria;\n}());\nvar ApiListComponent = /** @class */ (function () {\n    function ApiListComponent(apiService, locationService) {\n        this.apiService = apiService;\n        this.locationService = locationService;\n        this.showStatusMenu = false;\n        this.showTypeMenu = false;\n        this.criteriaSubject = new ReplaySubject(1);\n        this.searchCriteria = new SearchCriteria();\n        // API types\n        this.types = [\n            { value: 'all', title: 'All' },\n            { value: 'class', title: 'Class' },\n            { value: 'const', title: 'Const' },\n            { value: 'decorator', title: 'Decorator' },\n            { value: 'directive', title: 'Directive' },\n            { value: 'enum', title: 'Enum' },\n            { value: 'function', title: 'Function' },\n            { value: 'interface', title: 'Interface' },\n            { value: 'pipe', title: 'Pipe' },\n            { value: 'ngmodule', title: 'NgModule' },\n            { value: 'type-alias', title: 'Type alias' },\n            { value: 'package', title: 'Package' }\n        ];\n        this.statuses = [\n            { value: 'all', title: 'All' },\n            { value: 'deprecated', title: 'Deprecated' },\n            { value: 'security-risk', title: 'Security Risk' }\n        ];\n    }\n    ApiListComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.filteredSections =\n            combineLatest(this.apiService.sections, this.criteriaSubject).pipe(map(function (results) { return ({ sections: results[0], criteria: results[1] }); }), map(function (results) { return (results.sections\n                .map(function (section) { return (tslib_1.__assign({}, section, { items: _this.filterSection(section, results.criteria) })); })); }));\n        this.initializeSearchCriteria();\n    };\n    // TODO: may need to debounce as the original did\n    // although there shouldn't be any perf consequences if we don't\n    ApiListComponent.prototype.setQuery = function (query) {\n        this.setSearchCriteria({ query: (query || '').toLowerCase().trim() });\n    };\n    ApiListComponent.prototype.setStatus = function (status) {\n        this.toggleStatusMenu();\n        this.status = status;\n        this.setSearchCriteria({ status: status.value });\n    };\n    ApiListComponent.prototype.setType = function (type) {\n        this.toggleTypeMenu();\n        this.type = type;\n        this.setSearchCriteria({ type: type.value });\n    };\n    ApiListComponent.prototype.toggleStatusMenu = function () {\n        this.showStatusMenu = !this.showStatusMenu;\n    };\n    ApiListComponent.prototype.toggleTypeMenu = function () {\n        this.showTypeMenu = !this.showTypeMenu;\n    };\n    //////// Private //////////\n    ApiListComponent.prototype.filterSection = function (section, _a) {\n        var query = _a.query, status = _a.status, type = _a.type;\n        var items = section.items.filter(function (item) {\n            return matchesType() && matchesStatus() && matchesQuery();\n            function matchesQuery() {\n                return !query ||\n                    section.name.indexOf(query) !== -1 ||\n                    item.name.indexOf(query) !== -1;\n            }\n            function matchesStatus() {\n                return status === 'all' ||\n                    status === item.stability ||\n                    (status === 'security-risk' && item.securityRisk);\n            }\n            function matchesType() {\n                return type === 'all' || type === item.docType;\n            }\n        });\n        // If there are no items we still return an empty array if the section name matches and the type is 'package'\n        return items.length ? items : (type === 'package' && (!query || section.name.indexOf(query) !== -1)) ? [] : null;\n    };\n    // Get initial search criteria from URL search params\n    ApiListComponent.prototype.initializeSearchCriteria = function () {\n        var _a = this.locationService.search(), query = _a.query, status = _a.status, type = _a.type;\n        var q = (query || '').toLowerCase();\n        // Hack: can't bind to query because input cursor always forced to end-of-line.\n        this.queryEl.nativeElement.value = q;\n        this.status = this.statuses.find(function (x) { return x.value === status; }) || this.statuses[0];\n        this.type = this.types.find(function (x) { return x.value === type; }) || this.types[0];\n        this.searchCriteria = {\n            query: q,\n            status: this.status.value,\n            type: this.type.value\n        };\n        this.criteriaSubject.next(this.searchCriteria);\n    };\n    ApiListComponent.prototype.setLocationSearch = function () {\n        var _a = this.searchCriteria, query = _a.query, status = _a.status, type = _a.type;\n        var params = {\n            query: query ? query : undefined,\n            status: status !== 'all' ? status : undefined,\n            type: type !== 'all' ? type : undefined\n        };\n        this.locationService.setSearch('API Search', params);\n    };\n    ApiListComponent.prototype.setSearchCriteria = function (criteria) {\n        this.criteriaSubject.next(Object.assign(this.searchCriteria, criteria));\n        this.setLocationSearch();\n    };\n    ApiListComponent.ngComponentDef = i0.ɵdefineComponent({ type: ApiListComponent, selectors: [[\"aio-api-list\"]], factory: function ApiListComponent_Factory(t) { return new (t || ApiListComponent)(i0.ɵdirectiveInject(i1.ApiService), i0.ɵdirectiveInject(i2.LocationService)); }, viewQuery: function ApiListComponent_Query(rf, ctx) { if (rf & 1) {\n            i0.ɵviewQuery(_c0, true, null);\n        } if (rf & 2) {\n            var _t;\n            (i0.ɵqueryRefresh((_t = i0.ɵloadViewQuery())) && (ctx.queryEl = _t.first));\n        } }, consts: 11, vars: 9, template: function ApiListComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵelementStart(0, \"div\", _c1);\n            i0.ɵelementStart(1, \"aio-select\", _c2);\n            i0.ɵlistener(\"change\", function ApiListComponent_Template_aio_select_change_1_listener($event) { return ctx.setType($event.option); });\n            i0.ɵelementEnd();\n            i0.ɵelementStart(2, \"aio-select\", _c3);\n            i0.ɵlistener(\"change\", function ApiListComponent_Template_aio_select_change_2_listener($event) { return ctx.setStatus($event.option); });\n            i0.ɵelementEnd();\n            i0.ɵelementStart(3, \"div\", _c4);\n            i0.ɵelementStart(4, \"input\", _c5, _c6);\n            i0.ɵlistener(\"input\", function ApiListComponent_Template_input_input_4_listener($event) { return ctx.setQuery($event.target.value); });\n            i0.ɵelementEnd();\n            i0.ɵelementStart(6, \"i\", _c7);\n            i0.ɵtext(7, \"search\");\n            i0.ɵelementEnd();\n            i0.ɵelementEnd();\n            i0.ɵelementEnd();\n            i0.ɵelementStart(8, \"article\", _c8);\n            i0.ɵtemplate(9, ApiListComponent_div_9_Template, 3, 2, \"div\", _c9);\n            i0.ɵpipe(10, \"async\");\n            i0.ɵelementEnd();\n        } if (rf & 2) {\n            i0.ɵselect(1);\n            i0.ɵelementProperty(1, \"options\", i0.ɵbind(ctx.types));\n            i0.ɵelementProperty(1, \"selected\", i0.ɵbind(ctx.type));\n            i0.ɵelementProperty(1, \"showSymbol\", i0.ɵbind(true));\n            i0.ɵselect(2);\n            i0.ɵelementProperty(2, \"options\", i0.ɵbind(ctx.statuses));\n            i0.ɵelementProperty(2, \"selected\", i0.ɵbind(ctx.status));\n            i0.ɵelementProperty(2, \"disabled\", i0.ɵbind((ctx.type.value === \"package\")));\n            i0.ɵselect(9);\n            i0.ɵelementProperty(9, \"ngForOf\", i0.ɵbind(i0.ɵpipeBind1(10, 7, ctx.filteredSections)));\n        } }, directives: [i3.SelectComponent, i4.NgForOf, i4.NgIf], pipes: [i4.AsyncPipe], encapsulation: 2 });\n    return ApiListComponent;\n}());\nexport { ApiListComponent };\n/*@__PURE__*/ i0.ɵsetClassMetadata(ApiListComponent, [{\n        type: Component,\n        args: [{\n                selector: 'aio-api-list',\n                templateUrl: './api-list.component.html',\n            }]\n    }], function () { return [{ type: i1.ApiService }, { type: i2.LocationService }]; }, { queryEl: [{\n            type: ViewChild,\n            args: ['filter']\n        }] });\n","<div class=\"l-flex-wrap api-filter\">\n\n  <aio-select (change)=\"setType($event.option)\"\n              [options]=\"types\"\n              [selected]=\"type\"\n              [showSymbol]=\"true\"\n              label=\"Type:\">\n  </aio-select>\n\n  <aio-select (change)=\"setStatus($event.option)\"\n              [options]=\"statuses\"\n              [selected]=\"status\"\n              [disabled]=\"type.value === 'package'\"\n              label=\"Status:\">\n  </aio-select>\n\n  <div class=\"form-search\">\n    <input #filter placeholder=\"Filter\" (input)=\"setQuery($event.target.value)\">\n    <i class=\"material-icons\">search</i>\n  </div>\n</div>\n\n<article class=\"api-list-container l-content-small docs-content\">\n  <div *ngFor=\"let section of filteredSections | async\" >\n    <h2 *ngIf=\"section.items\"><a [href]=\"section.path\" [class.deprecated-api-item]=\"section.deprecated\">{{section.title}}</a></h2>\n    <ul class=\"api-list\" *ngIf=\"section.items?.length\">\n      <ng-container *ngFor=\"let item of section.items\">\n        <li class=\"api-item\">\n          <a [href]=\"item.path\" [class.deprecated-api-item]=\"item.stability === 'deprecated'\">\n            <span class=\"symbol {{item.docType}}\"></span>\n            {{item.title}}\n          </a>\n        </li>\n      </ng-container>\n    </ul>\n  </div>\n</article>\n","/*\n* API List & Filter Component\n*\n* A page that displays a formatted list of the public Angular API entities.\n* Clicking on a list item triggers navigation to the corresponding API entity document.\n* Can add/remove API entity links based on filter settings.\n*/\n\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\n\nimport { LocationService } from 'app/shared/location.service';\nimport { ApiSection, ApiService } from './api.service';\n\nimport { Option } from 'app/shared/select/select.component';\nimport { map } from 'rxjs/operators';\n\nclass SearchCriteria {\n  query ? = '';\n  status ? = 'all';\n  type ? = 'all';\n}\n\n@Component({\n  selector: 'aio-api-list',\n  templateUrl: './api-list.component.html',\n})\nexport class ApiListComponent implements OnInit {\n\n  filteredSections: Observable<ApiSection[]>;\n\n  showStatusMenu = false;\n  showTypeMenu = false;\n\n  private criteriaSubject = new ReplaySubject<SearchCriteria>(1);\n  private searchCriteria = new SearchCriteria();\n\n  status: Option;\n  type: Option;\n\n  // API types\n  types: Option[] = [\n    { value: 'all', title: 'All' },\n    { value: 'class', title: 'Class' },\n    { value: 'const', title: 'Const'},\n    { value: 'decorator', title: 'Decorator' },\n    { value: 'directive', title: 'Directive' },\n    { value: 'enum', title: 'Enum' },\n    { value: 'function', title: 'Function' },\n    { value: 'interface', title: 'Interface' },\n    { value: 'pipe', title: 'Pipe'},\n    { value: 'ngmodule', title: 'NgModule'},\n    { value: 'type-alias', title: 'Type alias' },\n    { value: 'package', title: 'Package'}\n  ];\n\n  statuses: Option[] = [\n    { value: 'all', title: 'All' },\n    { value: 'deprecated', title: 'Deprecated' },\n    { value: 'security-risk', title: 'Security Risk' }\n  ];\n\n  @ViewChild('filter') queryEl: ElementRef;\n\n  constructor(\n    private apiService: ApiService,\n    private locationService: LocationService) { }\n\n  ngOnInit() {\n    this.filteredSections =\n        combineLatest(\n          this.apiService.sections,\n          this.criteriaSubject\n        ).pipe(\n          map( results => ({ sections: results[0], criteria: results[1]})),\n          map( results => (\n               results.sections\n                  .map(section => ({ ...section, items: this.filterSection(section, results.criteria) }))\n          ))\n        );\n\n    this.initializeSearchCriteria();\n  }\n\n  // TODO: may need to debounce as the original did\n  // although there shouldn't be any perf consequences if we don't\n  setQuery(query: string) {\n    this.setSearchCriteria({query: (query || '').toLowerCase().trim() });\n  }\n\n  setStatus(status: Option) {\n    this.toggleStatusMenu();\n    this.status = status;\n    this.setSearchCriteria({status: status.value});\n  }\n\n  setType(type: Option) {\n    this.toggleTypeMenu();\n    this.type = type;\n    this.setSearchCriteria({type: type.value});\n  }\n\n  toggleStatusMenu() {\n    this.showStatusMenu = !this.showStatusMenu;\n  }\n\n  toggleTypeMenu() {\n    this.showTypeMenu = !this.showTypeMenu;\n  }\n\n  //////// Private //////////\n\n  private filterSection(section: ApiSection, { query, status, type }: SearchCriteria) {\n    const items = section.items!.filter(item => {\n      return matchesType() && matchesStatus() && matchesQuery();\n\n      function matchesQuery() {\n        return !query ||\n          section.name.indexOf(query) !== -1 ||\n          item.name.indexOf(query) !== -1;\n      }\n\n      function matchesStatus() {\n        return status === 'all' ||\n          status === item.stability ||\n          (status === 'security-risk' && item.securityRisk);\n      }\n\n      function matchesType() {\n        return type === 'all' || type === item.docType;\n      }\n    });\n\n    // If there are no items we still return an empty array if the section name matches and the type is 'package'\n    return items.length ? items : (type === 'package' && (!query || section.name.indexOf(query) !== -1)) ? [] : null;\n  }\n\n  // Get initial search criteria from URL search params\n  private initializeSearchCriteria() {\n    const {query, status, type} = this.locationService.search();\n\n    const q = (query || '').toLowerCase();\n    // Hack: can't bind to query because input cursor always forced to end-of-line.\n    this.queryEl.nativeElement.value = q;\n\n    this.status = this.statuses.find(x => x.value === status) || this.statuses[0];\n    this.type = this.types.find(x => x.value === type) || this.types[0];\n\n    this.searchCriteria = {\n      query: q,\n      status: this.status.value,\n      type: this.type.value\n    };\n\n    this.criteriaSubject.next(this.searchCriteria);\n  }\n\n  private setLocationSearch() {\n    const {query, status, type} = this.searchCriteria;\n    const params = {\n      query:  query ? query : undefined,\n      status: status !== 'all' ? status : undefined,\n      type:   type   !== 'all' ? type   : undefined\n    };\n\n    this.locationService.setSearch('API Search', params);\n  }\n\n  private setSearchCriteria(criteria: SearchCriteria) {\n    this.criteriaSubject.next(Object.assign(this.searchCriteria, criteria));\n    this.setLocationSearch();\n  }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { SharedModule } from '../../shared/shared.module';\nimport { ApiListComponent } from './api-list.component';\nimport { ApiService } from './api.service';\nimport { WithCustomElementComponent } from '../element-registry';\n\n@NgModule({\n  imports: [ CommonModule, SharedModule, HttpClientModule ],\n  declarations: [ ApiListComponent ],\n  entryComponents: [ ApiListComponent ],\n  providers: [ ApiService ]\n})\nexport class ApiListModule implements WithCustomElementComponent {\n  customElementComponent: Type<any> = ApiListComponent;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { SharedModule } from '../../shared/shared.module';\nimport { ApiListComponent } from './api-list.component';\nimport { ApiService } from './api.service';\nimport * as i0 from \"@angular/core\";\nvar ApiListModule = /** @class */ (function () {\n    function ApiListModule() {\n        this.customElementComponent = ApiListComponent;\n    }\n    ApiListModule.ngModuleDef = i0.ɵdefineNgModule({ type: ApiListModule });\n    ApiListModule.ngInjectorDef = i0.defineInjector({ factory: function ApiListModule_Factory(t) { return new (t || ApiListModule)(); }, providers: [ApiService], imports: [[CommonModule, SharedModule, HttpClientModule]] });\n    return ApiListModule;\n}());\nexport { ApiListModule };\n/*@__PURE__*/ i0.ɵsetNgModuleScope(ApiListModule, { declarations: [ApiListComponent], imports: [CommonModule, SharedModule, HttpClientModule] });\n/*@__PURE__*/ i0.ɵsetClassMetadata(ApiListModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule, SharedModule, HttpClientModule],\n                declarations: [ApiListComponent],\n                entryComponents: [ApiListComponent],\n                providers: [ApiService]\n            }]\n    }], null, null);\n","import * as i0 from '@angular/core';\nimport {ApiListModule} from './api-list.module';\nexport const ApiListModuleNgFactory = new i0.ɵNgModuleFactory(ApiListModule);\nexport const ɵNonEmptyModule = true;"],"sourceRoot":""}